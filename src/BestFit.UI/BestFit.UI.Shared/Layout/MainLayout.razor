@using BestFit.UI.Shared.Layout.Navigation
@inherits LayoutComponentBase
@* Required *@
<MudThemeProvider />
<MudPopoverProvider />

@* Needed for dialogs *@
<MudDialogProvider />

@* Needed for snackbars *@
<MudSnackbarProvider />




<MudThemeProvider />

<MudLayout>
    <MudAppBar Color="Color.Transparent" Elevation="1">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
        <MudPaper Height="40px"  Class="mud-theme-dark pa-2 ma-2" >
            <MudText Typo="Typo.h5">BestFit</MudText>
        </MudPaper>
        <MudSpacer />
        <MudBadge Content="3" Overlap="true" Class="mx-3 my-2">
            <MudIconButton Href="/cart" Class="mr-4" Variant="Variant.Filled" Color="Color.Dark" Icon="@Icons.Material.Filled.ShoppingCart" aria-label="cart" />
        </MudBadge>
        <MudSpacer />
        <MudText Class="mr-1">Avatar: </MudText>
        <MudButtonGroup  Variant="Variant.Filled">
            <MudButton Color="Color.Dark">@_buttonText</MudButton>
            <MudMenu Icon="@Icons.Material.Filled.Boy" Style="align-self: auto;">
                <MudMenuItem OnClick="() => SetButtonText(0)">None</MudMenuItem>
                <MudMenuItem OnClick="() => SetButtonText(1)">Me</MudMenuItem>
            </MudMenu>
        </MudButtonGroup>
    </MudAppBar>
    <MudDrawer @bind-Open="_drawerOpen" Elevation="2">
        
        <DrawerNav/>
       
    </MudDrawer>
    
    <MudMainContent >
        @Body
    </MudMainContent>
    
</MudLayout>
@code {
    bool _drawerOpen = true;

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
    private string _buttonText = "None";

    private void SetButtonText(int id)
    {
        switch (id)
        {
            case 0:
                _buttonText = "None";
                break;
            case 1:
                _buttonText = "Me";
                break;
            
        }
    }
}
